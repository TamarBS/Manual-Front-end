<!DOCTYPE html>
<html lang="es-ES">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <link rel="stylesheet" href="../styles/styles.css">
  
  <title>Maps</title>
  <meta name="description" content="Objeto javascript que contiene parejas de clave valor.">
</head>
<body>
  
  <header>
    <div class="button back"><a  href="../javascript.html">Volver a JavaScript</a></div>
    <hgroup>
      <h1 class="h1">Maps</h1>
      <p>Es un objeto JavaScript que permite guardar elementos en parejas de clave valor.</p>
      <hr>
    </hgroup>
  </header>
  
  <main>
    
    <p class="h2">Particularidades</p>
    <p>Las claves (keys) pueden ser de cualquier tipo.</p>
    <p>Un objeto Maps recuerda el orden de inserción de las claves.</p>
    <details>
      <summary>Objetos como claves</summary>
      <p>Una de las funcionalidades destacadas del objeto <span class="etiqueta">Map</span> es la posibilidad de utilizar objetos como claves.</p>
      <div class="black">
        <span class="comentario">// Creación de objetos</span>
        <br>
        const apples = {name: 'Apples'};
        <br>
        const bananas = {name: 'Bananas'};
        <br>
        const oranges = {name: 'Oranges'};
        <br>

        <span class="comentario">// Creación de un Map</span>
        <br>
        const fruits = new Map();
        <br>

        <span class="comentario">// Añade nuevos elementos al Map utilizando los objetos.</span>
        <br>
        fruits.set(apples, 500);
        <br>
        fruits.set(bananas, 300);
        <br>
        fruits.set(oranges, 200);        
      </div>
    </details>

    <p class="h2">Formas de crear un objeto Maps</p>
    <details>
      <summary>new Map()</summary>
      <p>Pasando un array a un new Map().</p>
      <div class="black">
        const fruits = new Map([
        <br>
        ["key", value],
        <br>
        ["key", value],
        <br>
        ["key", value]
        <br>
        ]);
        <br>
        <span class="comentario">// Es un array que contiene arrays tipo pareja de clave valor.</span>        
      </div>
    </details>
    <details>
      <summary>Map.set()</summary>
      <p>Creando un objeto Map y ejecutando el método Map.set().</p>
      <div class="black">
        const fruits = new Map();
        <br>
        fruits.set("apples", 500);
        <br>
        fruits.set("bananas", 300);
        <br>
        fruits.set("oranges", 200);
        <br>
        <span class="comentario">// Se crea un objeto Map vacío y se le asignan arrays de clave valor después.</span>        
      </div>
      <p>Este método también se puede utilizar para reasignar valores.</p>
      <p>Este método puede servir para acceder a la clave de uno de los valores: fruits.set("bananas"); <span class="comentario">// Devuelve 300</span></p>
    </details>

    <p class="h2">Métodos</p>
    <details>
      <summary>mapName.size;</summary>
      <p>Devuelve el número de elementos en el Map.</p>
    </details>
    <details>
      <summary>mapName.delete("valor");</summary>
      <p>Elimina un elemento Map.</p>
    </details>
    <details>
      <summary>mapName.clear()</summary>
      <p>Elimina todos los elementos de un objeto Map.</p>
    </details>
    <details>
      <summary>mapName.has("valor");</summary>
      <p>Devuelve <span class="etiqueta">true</span> si el valor está en alguno de los elementos del objeto Map.</p>
    </details>
    <details>
      <summary>mapName.forEach()</summary>
      <p>Invoca una rellamada para cada elemento del objeto Map</p>
      <div class="black">
        let text = "";
        <br>
        fruits.forEach (function(value, key) {
        <br>
        text += key + ' = ' + value;
        <br>
        })
      </div>
    </details>
    <details>
      <summary>mapName.entries()</summary>
      <p>Devuelve un string con los elementos del objeto Map.</p>
      <div class="black">
        let text = "";
        <br>
        for (const x of fruits.entries()) {
          <br>
          text += x;
          <br>
        }        
      </div>
    </details>
    <details>
      <summary>mapName.keys() mapName.values()</summary>
      <p>Devuelven la clave o el valor de un objeto Map.</p>
    </details>
    <details>
      <summary>Map.groupBy()</summary>
      <p>Crea un nuevo objeto <span class="etiqueta">Map</span> agrupando los elementos de un objeto en función a sus <span class="valor">strings</span> devueltos en una función callback.</p>
      <div class="black">
        <span class="comentario">// Crea un Array</span><br>
        const fruits = [<br>
          {name:"apples", quantity:300},<br>
          {name:"bananas", quantity:500},<br>
          {name:"oranges", quantity:200},<br>
          {name:"kiwi", quantity:150}<br>
        ];<br>

        <span class="comentario">// Callback function para agrupar elementos</span><br>
        function myCallback({ quantity }) {<br>
          return quantity > 200 ? "ok" : "low";<br>
        }<br>

        <span class="comentario">// Crea el nuevo objeto</span><br>
        const result = Map.groupBy(fruits, myCallback);        
      </div>
    </details>

  </main>

</body>
</html>