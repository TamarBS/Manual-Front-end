<!DOCTYPE html>
<html lang="es-ES">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <link rel="stylesheet" href="../styles/styles.css">
  
  <title>Arrays</title>
  <meta name="description" content="Métodos para manipular arrays.">
</head>
<body>
  
  <header>
    <div class="button back"><a  href="../javascript.html">Volver a JavaScript</a></div>
    <hgroup>
      <h1 class="h1">Arrays</h1>
      <p>Los arrays son colecciones de valores llamados elementos. Pueden contener objetos como valor. Son tipo objeto.</p>
      <hr>
    </hgroup>
  </header>

  <main>
    <h2>Diferencia entre índice y posición en el array</h2>
    <p>Los índices empiezan en 0, el primer elemento de un array tiene índice 0.</p>
    <p>La posición en los arrays empieza en 1, el primer elemento de un array tiene posición 1.</p>
    <p>La manera de situar los elementos de forma abstracta sigue este patron: 0 elemento1 1 elemento2 2 elemento3 3 </p>

    <h2 class="h2">Métodos</h2>

    <div class="black">
      Para todos los ejemplos usaré este array:
      <br>
      let frutas = ["manzana", "pera", "plátano"];
      <br>
      <span class="comentario">Para algunos ejemplos también existirá un array verduras.</span>
      <br>
      <span class="comentario">const verduras = ["lechuga", "calabacín"];</span>
    </div>


    <details>
      <summary>Acceder a algún elemento del array</summary>
      <ul>
        <li><p><strong>Array at()</strong> permite acceder a una posición del array pasándole el número de la posición como argumento. </p></li>
      </ul>
    </details>

    <details>
      <summary>Añadir nuevos elementos</summary>
      <p>Se pueden usar los siguientes métodos para añadir nuevos elementos a un array.</p>
      <details>
        <summary>push()</summary>
        <p>frutas.push("limón"); añadirá el elemento "limón" en una nueva última posición del array.</p>
        <div class="black">
          frutas.push("limón");
          <span class="comentario">// Añade limón al final del array</span>
          <br>
          let nuevo = frutas.push("limón");
          <br>
          console.log(nuevo);
          <span class="comentario">// Devuelve el nuevo length del array. Resultado: 4.</span>
        </div>
      </details>
      <details>
        <summary>length</summary>
        <p>frutas[frutas.length] = "limón"; Como length siempre da un valor de uno por encima del index del array esta asignación funciona para colocar limón en la útlima posición del array.</p>
        <p>También permite limitar la largura del array, recortarla. Si a frutas le digo frutas.length = 2; Pasa a tener sólo dos elementos. Cómo se se cortara.</p>
      </details>
      <ul>
        <li><p><strong>Array unshift()</strong> añade nuevos elementos al principio del array. Desplazando una posición a los demás. Devuelve el length del nuevo array.</p></li>
        <li>
          <p><strong>Array slice()</strong> significa empalmar. El primer parámetro indica la posición de empalme. El segundo parámetro el número de elementos a eliminar. Elimina desde atrás hacia delante, es decir, elimina el último, penúltimo... Después vendrán los argumentos con los valores a añadir.</p>
          <p>Si no se añaden parámetros para añadir, lo que se puede hacer es utilizar este método para eliminar elementos. splice(0,1) eliminará el último elemento.</p>
          <div class="black">
            const fruits = ["Banana", "Orange", "Apple", "Mango"];
            <br>
            fruits.splice(2, 0, "Lemon", "Kiwi");
            <br>
            <span class="comentario">// Resultado: Banana,Orange,Lemon,Kiwi,Apple,Mango</span>
          </div>
          <p>Existe un método que hace lo mismo que este pero aplica los cambios en un nuevo array para no perder los valores del array original. Este método es <strong>toSpliced()</strong></p>
        </li>
      </ul>
    </details>

    <details>
      <summary>bucles</summary>
      <p>Para recorrer los elementos de un array se puede utilizar diferentes métodos</p>
      <details>
        <summary>for</summary>
        <p>Con un for y la cantidad de elementos en un array definidas puedes hacer un bucle y acceder a todos sus elementos.</p>
        <div class="black">
          <span class="comentario">// Primero se declara y crea el array</span>
          <br>
          const array = [elemento1, elemento2, elemento3];
          <br>
          <span class="comentario">// Se define una variable que contenga la cantidad de elementos de este array.</span>
          <br>
          let elementos = array.length;
          <br>
          <span class="comentario">// Se hace el for</span>
          <br>
          for (let i = 0; i &lt; elementos; i++) {
            <br>
            console.log(array[i]);
            <br>
          };
          <br>
          <span class="comentario">// Resultado: elemento1 elemento2 elemento3</span>
        </div>
      </details>
      <details>
        <summary>forEach()</summary>
        <p>Con este método se itera por cada elemento del array.</p>
        <div class="black">
          <span class="comentario">// Se crea el array</span>
          <br>
          const array = [elemento1, elemento2, elemento3];
          <br>
          <span class="comentario">// Se declara el método forEach() llamando a la función a ejecutar en cada bucle.</span>
          <br>
          array.forEach(miFuncion);
          <br>
          <span class="etiqueta">function</span> mifuncion(valor) {
            <br>
            console.log(valor);
            <br>
          };
        </div>
      </details>
    </details>

    <details>
      <summary>Buscar en el array</summary>
      <details>
        <summary>indexOf()</summary>
        <p>Se le da un valor del array y devuelve su índice.</p>
        <div class="black">
          frutas.indeOf("manzana");
          <br>
          <span class="comentario">// Resultado: 0</span>
        </div>
        <p>Admite un segundo parámetro para especificar desde dónde empezar a buscar.</p>
        <p>Si no encuentra el elemento devuelve -1.</p>
        <p>Si el elemento está en el array más de una vez, devuelve sólo el índice del primer elemento encontrado.</p>
        <p>No funciona para buscar valores NaN.</p>
      </details>
      <details>
        <summary>lastIndexOf()</summary>
        <p>Lo mismo que indexOf() pero devuelve el índice del último elemento que encuentra, no el primero.</p>
      </details>
      <details>
        <summary>includes()</summary>
        <p>Se le da un valor del array y devuelve true o false en función de si lo encuentra o no.</p>
        <p>Permite buscar un valor NaN.</p>
      </details>
      <details>
        <summary>find() findIndex()</summary>
        <p>Devuelve el índice del primer valor de un array que cumpla con la condición de una función.</p>
        <p>Los parámetros de la función tienen que tomar tres valores: el valor del elemento, el índice del elemento y el propio array.</p>
        <div class="black">
          const numbers = [4, 9, 16, 25, 29];
          <br>
          let first = numbers.find(myFunction);
          <br>
          function myFunction(value, index, array) {
            <br>
            return value > 18;
            <br>
          }
          <br>
          <span class="comentario">// Resultado: 3. Que es el índice el cuarto valor = 25.</span>
        </div>
      </details>
      <details>
        <summary>findLast() findLastIndex()</summary>
        <p>Lo mismo que find() pero empieza a buscar de atrás hacia adelante.</p>
      </details>

    </details>

    <details>
      <summary>Cambios en los elementos</summary>
      <ul>
        <li>
          <p><strong>Array copyWithin()</strong> primero copia elementos y después los sobre-escribe en el mismo array sustituyendo otros elementos.</p>
          <p>El hecho de copiar elementos no quiere decir que haga el array más grande, el tamaño del array es el mismo, por lo que este método sustituye elementos del array por copias de otros elementos dentro de él en detrimento de eliminar los valores de otros.</p>
          <div class="black">
            <span class="comentario">// Las posiciones son las siguientes: 0manzana1pera2plátano3. El 2,1 es sólo pera, del 2,0 es manzana y pera.</span>
            <br>
            frutas.copyWithin(1,0); 
            <br>
            <span class="comentario">// Copiará manzana y la colocará la primera, desplazando el array y haciendo que plátano desaparezca. Resultado: manzana,manzana,pera</span>
            <br>
            frutas.copyWithin(2,1,2);
            <br>
            <span class="comentario">// Copia pera que está entre el 2 y el 1 y la coloca sustituyendo la posición 2 que es el plátano. Resultado: manzana,pera,pera</span> 
          </div>
        </li>
        <li>
          <p><strong>flat()</strong> se utiliza cuándo hay arrays como valor dentro de un array para convertirlo en un único array con valores, no un array de arrays.</p>
          <div class="black">
            const myArr = [[1,2],[3,4],[5,6]];
            <br>
            const newArr = myArr.flat();
            <br>
            <span class="comentario">// newArr = [1, 2, 3, 4, 5, 6]; </span>
            <br>
            myArr[0]
            <span class="comentario">// Resultado: 1,2</span>
            <br>
            newArr[0]
            <span class="comentario">// Resultado: 1</span>
          </div>
        </li>
        <li>
          <p><strong>flatMap()</strong> permite hacer calculos sobre los valores de los elementos y crear con eso un nuevo array plano</p>
          <div class="black">
            const myArr = [1, 2, 3, 4, 5, 6];
            <br>
            const newArr = myArr.flatMap(x => [x, x * 10]);
            <br>
            <span class="comentario">// flatMap crea ese cálculo en el que se quiere crear por cada elemento un array con dos elementos dentro que son, el elemento y el elemento * 10. De modo que crearía: [[1, 10], [2, 20], ...] pero no se queda ahí y lo siguiente que hace es convertirlo en un array plano.</span>
            <br>
            <span class="comentario">// Resultado: newArr = [1,10,2,20,3,30,4,40,5,50,6,60];</span>
          </div>
        </li>
      </ul>
    </details>

    <details>
      <summary>Convertir en strings</summary>
      <ul>
        <li><p><strong>Array toString()</strong> convierte en un único string la lista de elementos del array sólo separados por coma.</p></li>
        <li><p><strong>Array join()</strong> es como toString() pero permite cambiar la , que separa los elementos por otra cosa que es lo que se le pasa como argumento.</p></li>
      </ul>
    </details>

    <details>
      <summary>Eliminar elementos</summary>
      <ul>
        <li>
          <p><strong>Array pop()</strong> elimina el último elemento del array.</p>
          <div class="black">
            frutas.pop()
            <span class="comentario">// Elimina el último elemento del array</span>
            <br>
            let eliminado = frutas.pop();
            <br>
            console.log(eliminado);
            <span class="comentario">// Muestra sólo el elemento que se ha eliminado.</span>
          </div>
        </li>
        <li><p><strong>Array shift()</strong>Elimina el primer elemento del array adelantando una posición a los demás. Devuelve el valor eliminado.</p></li>
        <li>
          <p><strong>slice()</strong> corta elementos de un array y se los lleva a un nuevo array.</p>
          <p>Corta de izquierda a derecha. Es a partir de la posición dada como argumento hacia la derecha los elementos con los que se queda.</p>
          <div class="black">
            const fruits = ["Banana", "Orange", "Lemon", "Apple", "Mango"];
            <br>
            const citrus = fruits.slice(1);
            <span class="comentario">// Resultado: citrus = ["Orange", "Lemon", "Apple", "Mango"]; Se queda con lo que está a la derecha de la posición 1. Lo demás lo ignora.</span>
            <br>
            const citrus = fruits.slice(3);
            <span class="comentario">// Resultado: citrus = ["Apple", "Mango"]; Se queda con lo que está a la derecha de la posición 3. Lo demás lo ignora.</span>
            <br>
            const citrus = fruits.slice(1, 3);
            <span class="comentario">// Resultado: citrus = ["Orange", "Lemon"]; Se queda con lo que está a la derecha de la posición 1 hasta la posición 3. Lo demás lo ignora.</span>
          </div>
        </li>
      </ul>
      <p>Existe un método llamado delete() que no se recomienda utilizar porque no elimina los elementos, los sustituye por un valor undefined.</p>
    </details>

    <details>
      <summary>isArray()</summary>
      <p>Es un método para saber cuándo un objeto es un array o no. Si es array devuelve true.</p>
    </details>

    <details>
      <summary>Iteraciones</summary>
      <p>Métodos que realizan acciones con repeticiones.</p>
      <details>
        <summary>forEach()</summary>
        <p>Llama a una callback function para cada elemento del array.</p>
        <div class="black">
          frutas.forEach(miFunción);
          <br>
          <span class="comentario">// Por cada elemento del array frutas repetirá la acción definida en la función.</span>
          <span class="comentario">// Los parámetros de la callback function son (valor, índice, array)</span>
        </div>
      </details>
      <details>
        <summary>map() flatMap()</summary>
        <p>Crea un nuevo array que cumple con lo que se haya definido en una callback function.</p>
        <div class="black">const numbers2 = numbers1.map(myFunction);</div>
        <p>El método no hará nada si el array no contiene valores.</p>
        <p>Los parámetros de la callback function son (valor, índice, array)</p>
      </details>
      <details>
        <summary>filter()</summary>
        <p>Crea un nuevo array sólo con elementos que cumplan la condición de su callback function.</p>
        <p>Los parámetros de la callback function son (valor, índice, array)</p>
      </details>
      <details>
        <summary>reduce()</summary>
        <p>Realiza el cálculo de los elementos del array para entregar un único valor. No afecta al array original y funciona de izquierda a derecha.</p>
        <div class="black">
          const numbers = [45, 4, 9, 16, 25];
          <br>
          let sum = numbers.reduce(myFunction);
          <br>
          function myFunction(total, value, index, array) {
            <br>
            return total + value;
            <br>
          }
          <br>
          <span class="comentario">// la función toma cuatro argumentos, uno más que el resto porque el total es el argumento que va recopilando los resultados de la función.</span>
          <br>
          <span class="comentario">// El resultado será la suma de todas las cifras : 99</span>
        </div>
      </details>
      <details>
        <summary>reduceRight()</summary>
        <p>Hace lo mismo que el reduce pero hace sus cálculos de derecha a izquierda.</p>
      </details>
      <details>
        <summary>every()</summary>
        <p>Comprueba si todos los elementos de un array cumplen con una condición. Si la cumple devuelve true, si no false.</p>
      </details>
      <details>
        <summary>some()</summary>
        <p>Comprueba si alguno de los valores de un array cumple con una condición. Si algún valor la cumple devuelve true, si ningún elemento la cumple devolverá false.</p>
      </details>
      <details>
        <summary>from()</summary>
        <p>Convierte en un array cualquier objeto iterable y cualquier objeto con propiedad length. El valor que devuelve es un string.</p>
        <div class="black">
          let text = "ABCDEFG";
          <br>
          Array.from(text);
          <br>
          <span class="comentario">// Resultado: A,B,C,D,E,F,G</span>
        </div>
        <p>Permite añadir un parámetro tipo arrow function para afectar los valores de ese nuevo array.</p>
        <div class="black">
          const myNumbers = [1,2,3,4];
          <br>
          const myArr = Array.from(myNumbers, (x) => x * 2);
          <br>
          <span class="comentario">// Resultado: 2,4,6,8</span>
        </div>
      </details>
      <details>
        <summary>keys()</summary>
        <p>Las claves/llaves se refieren a los índices de los elementos del array. Este método devuelve un array con las keys de un array.</p>
        <div class="black">
          const fruits = ["Banana", "Orange", "Apple", "Mango"];
          <br>
          const keys = fruits.keys();
          <br>
          for (let x of keys) {
            <br>
            text += x + " ";
            <br>
          }
          <br>
          <span class="comentario">// Resultado: 0 1 2 3</span>
        </div>
      </details>
      <details>
        <summary>entries()</summary>
        <p>Recorre el array y devuelve la key y el valor</p>
        <div class="black">
          const fruits = ["Banana", "Orange", "Apple", "Mango"];
          <br>
          const f = fruits.entries();
          <br>
          for (let x of f) {
            <br>
            document.getElementById("demo").innerHTML += x + " ";
            <br>
          }
          <br>
          <span class="comentario">// Resultado: 1,Banana 2,Orange 3,...</span>
        </div>
      </details>
      <details>
        <summary>with()</summary>
        <p>Crea un nuevo array al que le aplica algún cambio.</p>
        <div class="black">
          const months = ["Januar", "Februar", "Mar", "April"];
          <br>
          const myMonths = months.with(2, "March");
          <br>
          <span class="comentario">// Se cambia el índice 2 que es la tercera posición que es "Mar" por "March". Resultado:  ["Januar", "Februar", "March", "April"]</span>
        </div>
      </details>
      <details>
        <summary>Spread(...)</summary>
        <p>Es un operador con símbolo de tres puntos ... y permite unir arrays. Lo que hace es "expandir" un array en elementos individuales. No sé exactamente que quiere decir aquí expandir, pero bueno, que se queda sólo con los valores del array.</p>
        <div class="black">
          const arr1 = [1, 2, 3];
          <br>
          const arr2 = [4, 5, 6];
          <br>
          const arr3 = [...arr1, ...arr2];  
          <br>    
          <span class="comentario">// Resultado: 1,2,3,4,5,6</span>    
        </div>
        <p>También se puede utilizar para copiar un array.</p>
        <div class="black">
          const arr3 = [...arr1]; 
        </div>
        <p>Se puede utilizar para pasarle argumentos a una función.</p>
        <div class="black">
          const numbers = [23,55,21,87,56];
          <br>
          let minValue = Math.min(...numbers);
          <br>
        </div>
      </details>
      <details>
        <summary>Rest(...)</summary>
        <p>Crea un nuevo array que elimina los primeros valores y guarda los demás.</p>
        <div class="black">
          let a, b, rest;
          <br>
          const arr1 = [1,2,3,4,5,6,7,8];
          <br>
          [a, b, ...rest] = arr1;
          <br>
          document.getElementById("demo").innerHTML = "The rest is: " + rest;
          <br>
          <span class="comentario">// Cómo se le pasan dos parámetros a, b, eliminará las dos primeras posiciones del array. Resultado: 3,4,5,6,7,8</span>
        </div>
      </details>

    </details>

    <details>
      <summary>Ordenar los elementos</summary>
      <p>Métodos para organizar y ordenar los arrays</p>
      <p class="details-subtitle">Ordenar alfabéticamente</p>
      <details>
        <summary>sort()</summary>
        <p>Organiza un array en orden alfabético.</p>
        <details>
          <summary>toSorted()</summary>
          <p>Hace lo mismo que sort, pero creando un nuevo array sin afectar al original.</p>
        </details>
      </details>
      <details>
        <summary>reverse()</summary>
        <p>Coloca los elementos del array al revés. Los de atrás adelante.</p>
        <details>
          <summary>toReversed()</summary>
          <p>Lo mismo que reverse() pero creando un nuevo array sin afectar al original.</p>
        </details>
      </details>
      <details>
        <summary>Organizar Objetos</summary>
        <p></p>
      </details>

      <p class="details-subtitle">Ordenar numéricamente</p>
      <details>
        <summary>sort()</summary>
        <p>Este método está pensado para organizar strings, por lo que los strings con valor numérico no se van a organizar lógicamente por número más alto, sino por cifra más alta, ya que hace la comparación caracter por caracter.</p>
        <p>Es decir: "25" será mayor que "100" porque 2 > 1.</p>
        <p>Para evitar este problema y conseguir que organice los número de mayor a menor se puede añadir una función como parámetro del método.</p>
        <div class="black">
          const points = [40, 100, 1, 5, 25, 10];
          <br>
          points.sort(function(a, b){return a - b});
          <br>
          <span class="comentario">// La función lo que hace es comparar los valores de dos en dos haciendo una resta entre ambos. Si el resultado de la resta da negativo querrá decir que b > a. Eso lo puede entender y hace que el valor más pequeño quede una posición por delante del valor mayor.</span>
          <br>
          <span class="comentario">// Si se quiere que se organicen al revés, de mayor a menor se cambia el orden de los parámetros.</span>
          <br>
          points.sort(function(a, b){return b - a});
        </div>
      </details>
      <details>
        <summary>Math.min() Math.max()</summary>
        <p>Permiten encontrar el valor más alto o más bajo de un array numérico.</p>
        <div class="black">
          function myArrayMin(arr) {
            <br>
            return Math.min.apply(null, arr);
            <br>
          }
          <br>
        </div>
      </details>

    </details>

    <details>
      <summary>Unir arrays</summary>
      <p>Se denomina concatenar a la acción de unir arrays. Implica crear un nuevo array que contenga los elementos de los dos arrays.</p>
      <ul>
        <li>
          <p><strong>Array concat()</strong> concatena dos arrays. Sintaxis: const saludable = frutas.concat(verduras, másArraysSiHubiera); Resultado del array: manzana,pera,plátano,lechuga,calabacín</p>
          <p>También permite añadir nuevos elementos, pasándoselo como valor. Los colocará al final del array. Ej.: const frutas2 = frutas.concat("tomate");</p>
        </li>
      </ul>
    </details>

    <p class="h2">Typed Array</p>
    <p>Es un tipo de array que sólo puede contener números binarios. Tiene un length específico que no se puede cambiar con métodos pull o push, como ocurre con los array normales. Sólo pueden contener un tipo de dato, binario. Ningún otro funcionará.</p>
    <p>Es útil para:</p>
    <ul>
      <li>
        <p>renderizado de gráficos e imágenes rápidamente</p>
      </li>
      <li>
        <p>lectura y escritura rápida de archivos locales para utilizar con archivos APIs.</p>
      </li>
      <li>
        <p>Gestión rápida de archivos de audio y video</p>
      </li>
      <li>
        <p>Envío eficiente de datos binarios.</p>
      </li>
    </ul>
    <div class="black">
      const myArr = new Int8Array(10);
    </div>

  </main>

</body>
</html>